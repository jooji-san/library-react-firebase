(this["webpackJsonplibrary-react-firebase"]=this["webpackJsonplibrary-react-firebase"]||[]).push([[0],{20:function(e,t,a){e.exports=a(36)},25:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(17),i=a.n(r),l=(a(25),a(19)),s=a(6),c=a(7),d=a(5),u=a(9),h=a(8),b=a(18),m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={title:"",author:"",pages:"",read:"false"},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.reset=n.reset.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"reset",value:function(){this.setState({title:"",author:"",pages:"",read:"false"})}},{key:"render",value:function(){var e=this;return o.a.createElement("form",{className:"form ".concat(this.props.hidden&&"hidden"),onSubmit:function(t){t.preventDefault(),e.props.addBook(e.state),e.reset()},onReset:function(t){e.reset()}},o.a.createElement("div",{className:"inputs"},o.a.createElement("div",{className:"text"},o.a.createElement("label",{htmlFor:"title"},"Title:"),o.a.createElement("input",{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange,tabIndex:"1",required:!0})),o.a.createElement("div",{className:"text"},o.a.createElement("label",{htmlFor:"author"},"Author:"),o.a.createElement("input",{type:"text",name:"author",id:"author",value:this.state.author,onChange:this.handleChange,tabIndex:"2",required:!0})),o.a.createElement("div",{className:"text"},o.a.createElement("label",{htmlFor:"pages"},"Page number:"),o.a.createElement("input",{type:"number",name:"pages",id:"pages",value:this.state.pages,onChange:this.handleChange,tabIndex:"3",required:!0})),o.a.createElement("div",{className:"radio"},o.a.createElement("p",null,"Have you Read the book?"),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"radio-choice-1"},"Yes"),o.a.createElement("input",{type:"radio",name:"read",id:"radio-choice-1",tabIndex:"4",value:"true",checked:"true"===this.state.read,onChange:this.handleChange,required:!0}),o.a.createElement("label",{htmlFor:"radio-choice-2"},"No"),o.a.createElement("input",{type:"radio",name:"read",id:"radio-choice-2",tabIndex:"5",value:"false",checked:"false"===this.state.read,onChange:this.handleChange,required:!0})))),o.a.createElement("div",{className:"submit-reset"},o.a.createElement("input",{type:"submit",value:"submit",tabIndex:"6"}),o.a.createElement("input",{type:"reset",tabIndex:"7"})))}}]),a}(o.a.Component),p=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={hidden:!0},n.handleClick=n.handleClick.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"handleClick",value:function(){this.setState((function(e){return{hidden:!e.hidden}}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(m,{addBook:this.props.addBook,hidden:this.state.hidden}),o.a.createElement("button",{className:"add-btn",onClick:this.handleClick},"Add a new book"))}}]),a}(o.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"title"},this.props.title),o.a.createElement("div",{className:"author"},this.props.author),o.a.createElement("div",{className:"pages"},this.props.pages),o.a.createElement("div",{className:"read"},this.props.read.toString()),o.a.createElement("button",{className:"del-btn",onClick:function(){return e.props.deleteBook(e.props.title)}},"delete"),o.a.createElement("button",{onClick:function(){return e.props.toggleRead(e.props.title)}},"toggle Read"))}}]),a}(o.a.Component);var k=function(e){return o.a.createElement("div",{className:"cards"},e.data.map((function(t){return o.a.createElement(f,Object.assign({},t,{key:t.title,deleteBook:e.deleteBook,toggleRead:e.toggleRead}))})))},v=a(14),g=a.n(v);g.a.initializeApp({apiKey:"AIzaSyAbCxSsRBMGqhhyZ-VciMAvb-a0v4wNCZs",authDomain:"library-419a6.firebaseapp.com",databaseURL:"https://library-419a6.firebaseio.com",projectId:"library-419a6",storageBucket:"library-419a6.appspot.com",messagingSenderId:"875093632558",appId:"1:875093632558:web:4b4e2247266ea78afe61bf"});var E=g.a,y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={books:[{title:"Hobbit",author:"J. R. R. Tolkien",pages:288,read:!0},{title:"The Temple of the golden pavillion",author:"Yukio Mishima",pages:270,read:!1},{title:"fadf",author:"asdf",pages:"asdf",read:"false"}]},n.addBook=n.addBook.bind(Object(d.a)(n)),n.findBookIndex=n.findBookIndex.bind(Object(d.a)(n)),n.deleteBook=n.deleteBook.bind(Object(d.a)(n)),n.toggleRead=n.toggleRead.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"addBook",value:function(e){this.setState((function(t){return{books:[].concat(Object(l.a)(t.books),[e])}}))}},{key:"findBookIndex",value:function(e){return this.state.books.findIndex((function(t){return t.title===e}))}},{key:"deleteBook",value:function(e){var t=this.findBookIndex(e);this.setState((function(e){return e.books.splice(t,1),{books:e.books}}))}},{key:"toggleRead",value:function(e){var t=this.findBookIndex(e);this.setState((function(e){return e.books[t].read=!e.books[t].read,{books:e.books}}))}},{key:"componentDidMount",value:function(){var e=this;E.firestore().collection("states").doc("state0").onSnapshot((function(t){e.setState(t.data())}))}},{key:"componentDidUpdate",value:function(){E.firestore().collection("states").doc("state0").set(this.state).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(p,{addBook:this.addBook}),o.a.createElement(k,{data:this.state.books,deleteBook:this.deleteBook,toggleRead:this.toggleRead}))}}]),a}(o.a.Component);i.a.render(o.a.createElement(y,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4ceb6f5f.chunk.js.map